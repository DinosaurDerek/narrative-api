generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Brief {
  id          String             @id @default(uuid())
  createdAt   DateTime           @default(now()) @unique
  narratives  NarrativeRecord[]
}

model NarrativeRecord {
  id        String   @default(uuid())
  topic     String
  sentiment String
  briefId   String
  brief     Brief    @relation(fields: [briefId], references: [id], onDelete: Cascade)

  @@unique([briefId, topic])
}
